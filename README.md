プラグインの目的

このプラグインは、他のプラグインが行うイベント処理を「非同期」にすることで、サーバーのパフォーマンスを向上させることを目的としています。非同期処理にすることで、サーバーのメインスレッドが止まらず、スムーズに動作するようになります。

プラグインの仕組み

	1.	設定ファイルの読み込み:
	•	プラグインが起動するときに、どのプラグインやイベントを非同期処理にするか、設定ファイルから読み込みます。
	2.	スレッドプールの準備:
	•	プラグインは、複数の処理を並行して実行できるようにするためのスレッドプールを用意します。これにより、高優先度、中優先度、低優先度のタスクを効率的に処理できます。
	3.	プラグインのラッピング:
	•	設定されたプラグインのイベントを「ラップ」し、そのイベント処理を非同期で実行するようにします。
	•	イベントとは、例えばプレイヤーがブロックを壊したり、アイテムを拾ったりするアクションのことです。
	4.	イベントの非同期処理:
	•	イベントが発生すると、このプラグインがそのイベント処理を受け取り、適切なスレッドプールで非同期に実行します。
	•	これにより、サーバーのメインスレッドがイベント処理でブロックされることなく、スムーズに動作します。
	5.	コマンドの処理:
	•	サーバー管理者がプラグインを操作するためのコマンドを提供します。これにより、設定のリロードや特定のイベントの除外・追加が簡単に行えます。

プラグインの使い方

	1.	プラグインをインストール:
	•	このプラグインをサーバーのpluginsフォルダに配置します。
	2.	設定ファイルの編集:
	•	設定ファイル（config.yml）を開いて、どのプラグインやイベントを非同期処理にするかを設定します。
	3.	サーバーの再起動:
	•	サーバーを再起動することで、設定が反映されます。
	4.	コマンドの使用:
	•	/asyncwrapper reloadなどのコマンドを使って、プラグインの設定をリロードしたり、特定のイベントの除外・追加を行います。

まとめ